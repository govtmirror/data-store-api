---
swagger: '2.0'
info:
  version: 0.0.0
  title: Datastore API
  description: Data Act Datastore API
# host: TBD.TBD.com
basePath: /v1
paths:
  /awards?{qualifiers}:
    get:
      summary: Returns all awards which match the specified qualifiers
      description: Returns an array of award objects with a low level of detail
      parameters:
        - $ref: '#/parameters/qualifiers'
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/SlimAwards'
        404:
          $ref: '#/responses/Standard404ErrorResponse'
        500:
          $ref: '#/responses/Standard500ErrorResponse'
  /awards/fain/{FAIN}:
    get:
      summary: Gets a the detailed award by FAIN
      description: Returns an award object with a high level of detail
      parameters:
        - $ref: '#/parameters/fain'
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Award'
        404:
          $ref: '#/responses/Standard404ErrorResponse'
        500:
          $ref: '#/responses/Standard500ErrorResponse'
  /awards/uri/{URI}:
    get:
      summary: Gets the detailed award for a specific URI
      description: Returns an award object with a high level of detail
      parameters:
        - $ref: '#/parameters/uri'
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Award'
        404:
          $ref: '#/responses/Standard404ErrorResponse'
        500:
          $ref: '#/responses/Standard500ErrorResponse'
  /awards/piid/{PIID}:
    get:
      summary: Gets the detailed award for a specific PIID
      description: Returns an award object with a high level of detail
      parameters:
        - $ref: '#/parameters/piid'
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Award'
        404:
          $ref: '#/responses/Standard404ErrorResponse'
        500:
          $ref: '#/responses/Standard500ErrorResponse'

# Parameters
parameters:
  fain:
    name: FAIN
    in: path
    required: true
    description: The FAIN code for the requested award
    type: integer
  piid:
    name: PIID
    in: path
    required: true
    description: The PIID of the requested award
    type: string
  uri:
    name: URI
    in: path
    required: true
    description: The URI of the requested ward
    type: string
  qualifiers:
    name: qualifiers
    type: string
    in: path
    required: true
    description: |
                    A set of qualifiers by which to filter the data.

                    The format is <FIELD>:<CONSTRAINT>:<CONSTRAINT PARAMETER>,
                    <FIELD>:<CONSTRAINT>:<CONSTRAINT PARAMETER>, ...

                    For example if we wanted to find awards greater than $10,000
                    for an agency with identifier of 097, we could use:

                    AgencyIdentifier:equals:097,TransactionObligatedAmount:greater:10000

# Definitions
definitions:
  SlimAwards:
    type: array
    items:
      $ref: '#/definitions/SlimAward'
  SlimAward:
    type: object
    description: An object representing an award, with a low level of detail
    properties:
      AgencyIdentifier:
        description: >
                        The agency code identifies the department or
                        agency that is responsible for the account.
        type: string
      BeginningPeriodOfAvailability:
        description: >
                        In annual and multi-year funds, the beginning
                        period of availability identifies the first year
                        of availability under law that an appropriation
                        account may incur new obligations.
        type: string
      EndingPeriodOfAvailability:
        description: >
                        In annual and multi-year funds, the end period
                        of availability identifies the last year of funds
                        availability under law that an appropriation account
                        may incur new obligations.
        type: string
      MainAccountCode:
        description: >
                        The main account code identifies the account in statute.
        type: string
      SubAccountCode:
        description: >
                        This is a component of the TAS. Identifies a
                        Treasury-defined subdivision of the main account.
                        This field cannot be blank. Subaccount 000 indicates
                        the Parent account.
        type: string
      PIID:
        description: >
                        The unique identifier of the specific award being reported.
        type: string
      ParentAwardId:
        description: >
                        The identifier of the procurement award under which the
                        specific award is issued (such as a Federal Supply
                        Schedule). Term currently applies to procurement actions only
        type: string
      FAIN:
        description: >
                        The Federal Award Identification Number (FAIN)
                        is the unique ID within the Federal agency for
                        each (non-aggregate) financial assistance award.
        type: string
      URI:
        description: >
                        Unique Record Identifier. An agency defined identifier
                        that (when provided) is unique for every reported action.
        type: string
      TransactionObligatedAmount:
        description: >
                        The definition for this element appears in Section 20
                        of OMB Circular A-11 issued June 2015; a brief summary
                        from A-11 appears below. Obligation means a binding
                        agreement that will result in outlays, immediately or
                        in the future. Budgetary resources must be available
                        before obligations can be incurred legally.
        type: string
      AwardType:
        description: >
                        Description (and corresponding code) that provides
                        information to distinguish type of contract, grant,
                        or loan and provides the user with more granularity
                        into the method of delivery of the outcomes.
        type: string

  Award:
    type: object
    description: An object representing an award, with a high level of detail
    properties:
      AllocationTransferAgencyIdentifier:
        description: >
                        The allocation agency identifies the department
                        or agency that is receiving funds through an
                        allocation (non-expenditure) transfer.
        type: string
      AgencyIdentifier:
        description: >
                        The agency code identifies the department or
                        agency that is responsible for the account.
        type: string
      BeginningPeriodOfAvailability:
        description: >
                        In annual and multi-year funds, the beginning
                        period of availability identifies the first year
                        of availability under law that an appropriation
                        account may incur new obligations.
        type: string
      EndingPeriodOfAvailability:
        description: >
                        In annual and multi-year funds, the end period
                        of availability identifies the last year of funds
                        availability under law that an appropriation account
                        may incur new obligations.
        type: string
      AvailabilityTypeCode:
        description: >
                        In appropriations accounts, the availability type code
                        identifies an unlimited period to incur new obligations;
                        this is denoted by the letter "X".
        type: string
      MainAccountCode:
        description: >
                        The main account code identifies the account in statute.
        type: string
      SubAccountCode:
        description: >
                        This is a component of the TAS. Identifies a
                        Treasury-defined subdivision of the main account.
                        This field cannot be blank. Subaccount 000 indicates
                        the Parent account.
        type: string
      PIID:
        description: >
                        The unique identifier of the specific award being reported.
        type: string
      ParentAwardId:
        description: >
                        The identifier of the procurement award under which the
                        specific award is issued (such as a Federal Supply
                        Schedule). Term currently applies to procurement actions only
        type: string
      FAIN:
        description: >
                        The Federal Award Identification Number (FAIN)
                        is the unique ID within the Federal agency for
                        each (non-aggregate) financial assistance award.
        type: string
      URI:
        description: >
                        Unique Record Identifier. An agency defined identifier
                        that (when provided) is unique for every reported action.
        type: string
      ProgramActivityName:
        description: >
                        The definition for this element appears in Section 200
                        of OMB Circular A-11 issued June 2015; a brief summary
                        from A-11 appears below. Name of a specific activity or
                        project as listed in the program and financing
                        schedules of the annual budget of the United States Government.
        type: string
      ProgramActivityCode:
        description: >
                        The definition for this element appears in Section 200
                        of OMB Circular A-11 issued June 2015; a brief summary
                        from A-11 appears below. Code of a specific activity or
                        project as listed in the program and financing
                         schedules of the annual budget of the United States Government.
        type: string
      ObjectClass:
        description: >
                        The definition for this element appears in Section 83
                        of OMB Circular A-11 issued June 2015; a brief summary
                        from A-11 appears below. Categories in a classification
                        system that presents obligations by the items or
                        services purchased by the Federal Government.
        type: string
      TransactionObligatedAmount:
        description: >
                        The definition for this element appears in Section 20
                        of OMB Circular A-11 issued June 2015; a brief summary
                        from A-11 appears below. Obligation means a binding
                        agreement that will result in outlays, immediately or
                        in the future. Budgetary resources must be available
                        before obligations can be incurred legally.
        type: string
      AwardingSubTierAgencyCode:
        description: >
                        Identifier of the level 2 organization that awarded,
                        executed or is otherwise responsible for the transaction.
        type: string
      AwardModificationAmendmentNumber:
        description: >
                        The identifier of an action being reported that
                        indicates the specific subsequent change to the initial award.
        type: string
      AwardType:
        description: >
                        Description (and corresponding code) that provides
                        information to distinguish type of contract, grant,
                        or loan and provides the user with more granularity
                        into the method of delivery of the outcomes.
        type: string
      NorthAmericanIndustrialClassificationSystemCode:
        description: >
                        The identifier that represents the North American
                        Industrial Classification System Code assigned to
                        the solicitation and resulting award identifying the
                        industry in which the contract requirements are normally performed.
        type: string
      AwardeeOrRecipientUniqueIdentifier:
        description: >
                        The unique identification number for an awardee or
                        recipient. Currently the identifier is the 9-digit
                        number assigned by D&B referred to as the DUNS® number.
        type: string
      AwardDescription:
        description: >
                        A brief description of the purpose of the award.
        type: string
      PrimaryPlaceOfPerformanceZip4:
        description: >
                        United States ZIP code (five digits) concatenated with
                        the additional +4 digits, identifying where the
                        predominant performance of the award will be accomplished.
        type: string
      PrimaryPlaceofPerformanceCongressionalDistrict:
        description: >
                        U.S. Congressional district where the predominant
                        performance of the award will be accomplished.
        type: string
      AwardeeOrRecipientLegalEntityName:
        description: >
                        The name of the awardee or recipient that relates to
                        the unique identifier. For U.S. based companies, this
                        name is what the business ordinarily files in formation
                        documents with individual states (when required).
        type: string
      LegalEntityCityName:
        description: >
                        Name of the city in which the awardee or recipient’s
                        legal business address is located.
        type: string
      LegalEntityStateCode:
        description: >
                        United States Postal Service (USPS) two-letter
                        abbreviation for the state or territory in which the
                        awardee or recipient’s legal business address is
                        located. Identify States, the District of Columbia,
                        territories (i.e., American Samoa, Guam, Northern
                        Mariana Islands, Puerto Rico, U.S. Virgin Islands) and
                        associated states (i.e., Republic of the Marshall
                        Islands, the Federated States of Micronesia, and Palau)
                        by their USPS two-letter abbreviation for the purposes
                        of reporting. Report legal business address located in
                        the Puerto Rico, Northern Mariana Islands, American Samoa,
                        Guam, and U.S. Virgin Islands using USPS assigned state codes.
        type: string
      LegalEntityZip4:
        description: >
                        USPS zoning code associated with the awardee or
                        recipient’s legal business address. This is not a
                        required data element for non-US addresses.
        type: string
      LegalEntityCongressionalDistrict:
        description: >
                        The congressional district in which the awardee or
                        recipient is located. This is not a required data
                        element for non-U.S. addresses.
        type: string
      LegalEntityAddressLine1:
        description: >
                        First line of awardee or recipient’s legal business address.
        type: string
      LegalEntityAddressLine2:
        description: >
                        Second line of awardee or recipient’s legal business address.
        type: string
      LegalEntityCountryCode:
        description: >
                        Code for the country in which the awardee or recipient
                        is located, using the ISO 3166-1 Alpha-3 GENC Profile,
                        less the codes listed for those territories and
                        possessions of the United States already identified as “states.”
        type: string
      PeriodOfPerformanceStartDate:
        description: >
                        The date on which, for the award referred to by the
                        action being reported, awardee effort begins or the
                        award is otherwise effective.
        type: string
      PeriodOfPerformanceCurrentEndDate:
        description: >
                        The current date on which, for the award referred to by
                        the action being reported, awardee effort completes or
                        the award is otherwise ended. Administrative actions
                        related to this award may continue to occur after this
                        date. This date does not apply to procurement indefinite
                        delivery vehicles under which definitive orders may be awarded.
        type: string
      PeriodOfPerformancePotentialEndDate:
        description: >
                        For procurement, the date on which, for the award
                        referred to by the action being reported if all potential
                        pre-determined or pre-negotiated options were exercised,
                        awardee effort is completed or the award is otherwise
                        ended. Administrative actions related to this award may
                        continue to occur after this date. This date does not
                        apply to procurement indefinite delivery vehicles under
                        which definitive orders may be awarded.
        type: string
      ActionDate:
        description: >
                        The date the action being reported was issued / signed
                        by the Government or a binding agreement was reached.
        type: string
      FederalActionObligation:
        description: >
                        Amount of Federal Government’s obligation, de-obligation,
                        or liability, in dollars, for an award transaction.
        type: string
      CurrentTotalValueOfAward:
        description: >
                        Total amount obligated to date on a contract,
                        including the base and exercised options.
        type: string
      PotentialTotalValueOfAward:
        description: >
                        Total amount that could be obligated on a contract,
                        if the base and all options are exercised.
        type: string
      FundingSubTierAgencyCode:
        description: >
                        Total amount that could be obligated on a contract,
                        if the base and all options are exercised.
        type: string
      FundingOfficeCode:
        description: >
                        Identifier of the level n organization that provided
                        the preponderance of the funds obligated by this transaction.
        type: string
      AwardingOfficeCode:
        description: >
                        Identifier of the level n organization that awarded,
                        executed or is otherwise responsible for the transaction.
        type: string
      ReferencedIDVAgencyIdentifier:
        description: >
                        Identifier used to link agency in FPDS-NG to referenced
                        IDV information. Definition (if more than one field):
                        The identifier of the procurement award under which
                        the specific award is issued, such as a Federal Supply
                        Schedule. This data element currently applies to
                        procurement actions only.
        type: string
      VendorDoingAsBusinessName:
        description: >
                        The doing as business name of the contractor address.
        type: string
      VendorAddressLine3:
        description: >
                        The third line of the street address for a contractor.
        type: string
      VendorPhoneNumber:
        description: >
                        The phone number of the contractor.
        type: string
      VendorFaxNumber:
        description: >
                        The fax number of the contractor
        type: string
      MultipleorSingleAwardIDV:
        description: >
                        Indicates whether the contract is one of many that
                        resulted from a single solicitation, all of the
                        contracts are for the same or similar items, and
                        contracting officers are 'True to compare their
                        requirements with the offerings under more than one
                        contract or are 'True to acquire the requirement
                        competitively among the awardees. BPA "Multiple or
                        Single Award IDV" value does not pull the "Multiple or
                        Single Award IDV" value of the referenced FSS to the
                        BPA. The "Multiple or Single Award IDV" value shall be
                        'True and selected by the user for all BPA bases created.
        type: string
      TypeofIDC:
        description: >
                        Indicates whether the contract is one of many that
                        resulted from a single solicitation, all of the
                        contracts are for the same or similar items, and
                        contracting officers are 'True to compare their
                        requirements with the offerings under more than one
                        contract or are 'True to acquire the requirement
                        competitively among the awardees. BPA "Multiple or
                        Single Award IDV" value does not pull the "Multiple or
                        Single Award IDV" value of the referenced FSS to the
                        BPA. The "Multiple or Single Award IDV" value shall be
                        'True and selected by the user for all BPA bases created.
        type: string
      IDV Type:
        description: >
                        The type of Indefinite Delivery Vehicle being (IDV)
                        loaded by this transaction. IDV Types include
                        Government-Wide Acquisition Contract (GWAC),
                        Multi-Agency Contract, Other Indefinite Delivery
                        Contract (IDC), Federal Supply Schedule (FSS), Basic
                        Ordering Agreement (BOA), and Blanket Purchase Agreements (BPA).
        type: string

  Error:
    properties:
      code:
        type: string
      message:
        type: string

# Responses
responses:
  Standard500ErrorResponse:
    description: An unexpected error occured.
    schema:
      $ref: '#/definitions/Error'
  Standard404ErrorResponse:
    description: Resource not found.
    schema:
      $ref: '#/definitions/Error'
